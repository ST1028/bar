{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.210.0"},"children":{"BarOrderSystemStack":{"id":"BarOrderSystemStack","path":"BarOrderSystemStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.210.0"},"children":{"BarAppTable":{"id":"BarAppTable","path":"BarOrderSystemStack/BarAppTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"pk","attributeType":"S"},{"attributeName":"sk","attributeType":"S"},{"attributeName":"gsi1pk","attributeType":"S"},{"attributeName":"gsi1sk","attributeType":"S"},{"attributeName":"gsi2pk","attributeType":"S"},{"attributeName":"gsi2sk","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"gsi1","keySchema":[{"attributeName":"gsi1pk","keyType":"HASH"},{"attributeName":"gsi1sk","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"gsi2","keySchema":[{"attributeName":"gsi2pk","keyType":"HASH"},{"attributeName":"gsi2sk","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"pk","keyType":"HASH"},{"attributeName":"sk","keyType":"RANGE"}],"tableName":"bar_app"}}},"ScalingRole":{"id":"ScalingRole","path":"BarOrderSystemStack/BarAppTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.210.0","metadata":[]}}}},"BarAppUserPool":{"id":"BarAppUserPool","path":"BarOrderSystemStack/BarAppUserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppUserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_phone_number","priority":1},{"name":"verified_email","priority":2}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":true},"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","policies":{"passwordPolicy":{"minimumLength":8,"requireLowercase":true,"requireUppercase":true,"requireNumbers":true,"requireSymbols":false}},"smsVerificationMessage":"The verification code to your new account is {####}","usernameAttributes":["email"],"userPoolName":"bar-app-user-pool","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}}}},"AdminGroup":{"id":"AdminGroup","path":"BarOrderSystemStack/AdminGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"description":"Administrator group","groupName":"admin","userPoolId":{"Ref":"BarAppUserPoolA53E0798"}}}},"BarAppUserPoolClient":{"id":"BarAppUserPoolClient","path":"BarOrderSystemStack/BarAppUserPoolClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppUserPoolClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"allowedOAuthFlows":["implicit","code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["profile","phone","email","openid","aws.cognito.signin.user.admin"],"callbackUrLs":["https://example.com"],"explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"generateSecret":false,"supportedIdentityProviders":["COGNITO"],"userPoolId":{"Ref":"BarAppUserPoolA53E0798"}}}}}},"SlackWebhookUrl":{"id":"SlackWebhookUrl","path":"BarOrderSystemStack/SlackWebhookUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/SlackWebhookUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"Slack webhook URL for order notifications","name":"/bar-app/slack/webhook-url","type":"String","value":"PLACEHOLDER_WEBHOOK_URL"}}}}},"SharedLayer":{"id":"SharedLayer","path":"BarOrderSystemStack/SharedLayer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.LayerVersion","version":"2.210.0","metadata":[]},"children":{"Code":{"id":"Code","path":"BarOrderSystemStack/SharedLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.210.0"},"children":{"Stage":{"id":"Stage","path":"BarOrderSystemStack/SharedLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.210.0"}},"AssetBucket":{"id":"AssetBucket","path":"BarOrderSystemStack/SharedLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.210.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BarOrderSystemStack/SharedLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"compatibleRuntimes":["nodejs20.x"],"content":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"f7edfbdde2e5ecf2dec5f5c1b53cf49f28ea14c6846dd576c65015dd8a78e6f4.zip"},"description":"Shared utilities and AWS SDK v3"}}}}},"LambdaExecutionRole":{"id":"LambdaExecutionRole","path":"BarOrderSystemStack/LambdaExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.210.0","metadata":[]},"children":{"ImportLambdaExecutionRole":{"id":"ImportLambdaExecutionRole","path":"BarOrderSystemStack/LambdaExecutionRole/ImportLambdaExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.210.0","metadata":[]}},"Resource":{"id":"Resource","path":"BarOrderSystemStack/LambdaExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"policies":[{"policyName":"DynamoDBAccess","policyDocument":{"Statement":[{"Action":["dynamodb:GetItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:Query","dynamodb:BatchGetItem","dynamodb:BatchWriteItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["BarAppTableC35CFE0C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["BarAppTableC35CFE0C","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"}},{"policyName":"SSMAccess","policyDocument":{"Statement":[{"Action":"ssm:GetParameter","Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":ssm:us-east-1:",{"Ref":"AWS::AccountId"},":parameter",{"Ref":"SlackWebhookUrl754D14AD"}]]}}],"Version":"2012-10-17"}}]}}}}},"MenusFunction":{"id":"MenusFunction","path":"BarOrderSystemStack/MenusFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.210.0","metadata":[]},"children":{"Code":{"id":"Code","path":"BarOrderSystemStack/MenusFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.210.0"},"children":{"Stage":{"id":"Stage","path":"BarOrderSystemStack/MenusFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.210.0"}},"AssetBucket":{"id":"AssetBucket","path":"BarOrderSystemStack/MenusFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.210.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BarOrderSystemStack/MenusFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"5b8e44a4f5473f7312d7e1278783717d1523e6a313cfd3927d3be64a5e48c14a.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"BarAppTableC35CFE0C"},"USER_POOL_ID":{"Ref":"BarAppUserPoolA53E0798"}}},"handler":"menus.handler","layers":[{"Ref":"SharedLayer27DFABF0"}],"memorySize":128,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs20.x","timeout":30}}}}},"PatronsFunction":{"id":"PatronsFunction","path":"BarOrderSystemStack/PatronsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.210.0","metadata":[]},"children":{"Code":{"id":"Code","path":"BarOrderSystemStack/PatronsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.210.0"},"children":{"Stage":{"id":"Stage","path":"BarOrderSystemStack/PatronsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.210.0"}},"AssetBucket":{"id":"AssetBucket","path":"BarOrderSystemStack/PatronsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.210.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BarOrderSystemStack/PatronsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"5b8e44a4f5473f7312d7e1278783717d1523e6a313cfd3927d3be64a5e48c14a.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"BarAppTableC35CFE0C"},"USER_POOL_ID":{"Ref":"BarAppUserPoolA53E0798"}}},"handler":"patrons.handler","layers":[{"Ref":"SharedLayer27DFABF0"}],"memorySize":128,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs20.x","timeout":30}}}}},"OrdersFunction":{"id":"OrdersFunction","path":"BarOrderSystemStack/OrdersFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.210.0","metadata":[]},"children":{"Code":{"id":"Code","path":"BarOrderSystemStack/OrdersFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.210.0"},"children":{"Stage":{"id":"Stage","path":"BarOrderSystemStack/OrdersFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.210.0"}},"AssetBucket":{"id":"AssetBucket","path":"BarOrderSystemStack/OrdersFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.210.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BarOrderSystemStack/OrdersFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"5b8e44a4f5473f7312d7e1278783717d1523e6a313cfd3927d3be64a5e48c14a.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"BarAppTableC35CFE0C"},"USER_POOL_ID":{"Ref":"BarAppUserPoolA53E0798"},"SLACK_WEBHOOK_PARAM":{"Ref":"SlackWebhookUrl754D14AD"}}},"handler":"orders.handler","layers":[{"Ref":"SharedLayer27DFABF0"}],"memorySize":128,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs20.x","timeout":30}}}}},"AdminFunction":{"id":"AdminFunction","path":"BarOrderSystemStack/AdminFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.210.0","metadata":[]},"children":{"Code":{"id":"Code","path":"BarOrderSystemStack/AdminFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.210.0"},"children":{"Stage":{"id":"Stage","path":"BarOrderSystemStack/AdminFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.210.0"}},"AssetBucket":{"id":"AssetBucket","path":"BarOrderSystemStack/AdminFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.210.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BarOrderSystemStack/AdminFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"5b8e44a4f5473f7312d7e1278783717d1523e6a313cfd3927d3be64a5e48c14a.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"BarAppTableC35CFE0C"},"USER_POOL_ID":{"Ref":"BarAppUserPoolA53E0798"}}},"handler":"admin.handler","layers":[{"Ref":"SharedLayer27DFABF0"}],"memorySize":128,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs20.x","timeout":30}}}}},"CognitoAuthorizer":{"id":"CognitoAuthorizer","path":"BarOrderSystemStack/CognitoAuthorizer","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CognitoUserPoolsAuthorizer","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/CognitoAuthorizer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAuthorizer","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Authorizer","aws:cdk:cloudformation:props":{"identitySource":"method.request.header.Authorization","name":"BarOrderSystemStackCognitoAuthorizer4A342516","providerArns":[{"Fn::GetAtt":["BarAppUserPoolA53E0798","Arn"]}],"restApiId":{"Ref":"BarAppApi23A69A24"},"type":"COGNITO_USER_POOLS"}}}}},"BarAppApi":{"id":"BarAppApi","path":"BarOrderSystemStack/BarAppApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"Bar Order System API","name":"bar-app-api"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"BarOrderSystemStack/BarAppApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.210.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"BarOrderSystemStack/BarAppApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.210.0","metadata":[]}},"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"BarOrderSystemStack/BarAppApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["BarAppApiCloudWatchRoleE57BC76F","Arn"]}}}},"Deployment":{"id":"Deployment","path":"BarOrderSystemStack/BarAppApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Bar Order System API","restApiId":{"Ref":"BarAppApi23A69A24"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"BarOrderSystemStack/BarAppApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"BarAppApiDeploymentFD172AA3091bf632c99ad24adc0ff9b6fce5e3d0"},"methodSettings":[{"httpMethod":"*","resourcePath":"/*","dataTraceEnabled":false,"throttlingBurstLimit":200,"throttlingRateLimit":100}],"restApiId":{"Ref":"BarAppApi23A69A24"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"BarOrderSystemStack/BarAppApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.210.0"}},"Default":{"id":"Default","path":"BarOrderSystemStack/BarAppApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.210.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"BarOrderSystemStack/BarAppApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["BarAppApi23A69A24","RootResourceId"]},"restApiId":{"Ref":"BarAppApi23A69A24"}}}}}},"menus":{"id":"menus","path":"BarOrderSystemStack/BarAppApi/Default/menus","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Default/menus/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["BarAppApi23A69A24","RootResourceId"]},"pathPart":"menus","restApiId":{"Ref":"BarAppApi23A69A24"}}}},"OPTIONS":{"id":"OPTIONS","path":"BarOrderSystemStack/BarAppApi/Default/menus/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Default/menus/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BarAppApimenus1455A543"},"restApiId":{"Ref":"BarAppApi23A69A24"}}}}}},"GET":{"id":"GET","path":"BarOrderSystemStack/BarAppApi/Default/menus/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.210.0","metadata":[]},"children":{"ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.GET..menus":{"id":"ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.GET..menus","path":"BarOrderSystemStack/BarAppApi/Default/menus/GET/ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.GET..menus","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MenusFunction81C253FF","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"BarAppApi23A69A24"},"/",{"Ref":"BarAppApiDeploymentStageprod11C7F79C"},"/GET/menus"]]}}}},"ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.GET..menus":{"id":"ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.GET..menus","path":"BarOrderSystemStack/BarAppApi/Default/menus/GET/ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.GET..menus","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MenusFunction81C253FF","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"BarAppApi23A69A24"},"/test-invoke-stage/GET/menus"]]}}}},"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Default/menus/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["MenusFunction81C253FF","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BarAppApimenus1455A543"},"restApiId":{"Ref":"BarAppApi23A69A24"}}}}}}}},"patrons":{"id":"patrons","path":"BarOrderSystemStack/BarAppApi/Default/patrons","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Default/patrons/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["BarAppApi23A69A24","RootResourceId"]},"pathPart":"patrons","restApiId":{"Ref":"BarAppApi23A69A24"}}}},"OPTIONS":{"id":"OPTIONS","path":"BarOrderSystemStack/BarAppApi/Default/patrons/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Default/patrons/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BarAppApipatrons5640BC03"},"restApiId":{"Ref":"BarAppApi23A69A24"}}}}}},"GET":{"id":"GET","path":"BarOrderSystemStack/BarAppApi/Default/patrons/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.210.0","metadata":[]},"children":{"ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.GET..patrons":{"id":"ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.GET..patrons","path":"BarOrderSystemStack/BarAppApi/Default/patrons/GET/ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.GET..patrons","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PatronsFunction8BBD52C7","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"BarAppApi23A69A24"},"/",{"Ref":"BarAppApiDeploymentStageprod11C7F79C"},"/GET/patrons"]]}}}},"ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.GET..patrons":{"id":"ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.GET..patrons","path":"BarOrderSystemStack/BarAppApi/Default/patrons/GET/ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.GET..patrons","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PatronsFunction8BBD52C7","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"BarAppApi23A69A24"},"/test-invoke-stage/GET/patrons"]]}}}},"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Default/patrons/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["PatronsFunction8BBD52C7","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BarAppApipatrons5640BC03"},"restApiId":{"Ref":"BarAppApi23A69A24"}}}}}},"POST":{"id":"POST","path":"BarOrderSystemStack/BarAppApi/Default/patrons/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.210.0","metadata":[]},"children":{"ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.POST..patrons":{"id":"ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.POST..patrons","path":"BarOrderSystemStack/BarAppApi/Default/patrons/POST/ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.POST..patrons","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PatronsFunction8BBD52C7","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"BarAppApi23A69A24"},"/",{"Ref":"BarAppApiDeploymentStageprod11C7F79C"},"/POST/patrons"]]}}}},"ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.POST..patrons":{"id":"ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.POST..patrons","path":"BarOrderSystemStack/BarAppApi/Default/patrons/POST/ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.POST..patrons","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PatronsFunction8BBD52C7","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"BarAppApi23A69A24"},"/test-invoke-stage/POST/patrons"]]}}}},"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Default/patrons/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["PatronsFunction8BBD52C7","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BarAppApipatrons5640BC03"},"restApiId":{"Ref":"BarAppApi23A69A24"}}}}}},"{patronId}":{"id":"{patronId}","path":"BarOrderSystemStack/BarAppApi/Default/patrons/{patronId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Default/patrons/{patronId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BarAppApipatrons5640BC03"},"pathPart":"{patronId}","restApiId":{"Ref":"BarAppApi23A69A24"}}}},"OPTIONS":{"id":"OPTIONS","path":"BarOrderSystemStack/BarAppApi/Default/patrons/{patronId}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Default/patrons/{patronId}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BarAppApipatronspatronId2EAE9B11"},"restApiId":{"Ref":"BarAppApi23A69A24"}}}}}},"PATCH":{"id":"PATCH","path":"BarOrderSystemStack/BarAppApi/Default/patrons/{patronId}/PATCH","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.210.0","metadata":[]},"children":{"ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.PATCH..patrons.{patronId}":{"id":"ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.PATCH..patrons.{patronId}","path":"BarOrderSystemStack/BarAppApi/Default/patrons/{patronId}/PATCH/ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.PATCH..patrons.{patronId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PatronsFunction8BBD52C7","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"BarAppApi23A69A24"},"/",{"Ref":"BarAppApiDeploymentStageprod11C7F79C"},"/PATCH/patrons/*"]]}}}},"ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.PATCH..patrons.{patronId}":{"id":"ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.PATCH..patrons.{patronId}","path":"BarOrderSystemStack/BarAppApi/Default/patrons/{patronId}/PATCH/ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.PATCH..patrons.{patronId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PatronsFunction8BBD52C7","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"BarAppApi23A69A24"},"/test-invoke-stage/PATCH/patrons/*"]]}}}},"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Default/patrons/{patronId}/PATCH/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PATCH","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["PatronsFunction8BBD52C7","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BarAppApipatronspatronId2EAE9B11"},"restApiId":{"Ref":"BarAppApi23A69A24"}}}}}}}}}},"orders":{"id":"orders","path":"BarOrderSystemStack/BarAppApi/Default/orders","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Default/orders/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["BarAppApi23A69A24","RootResourceId"]},"pathPart":"orders","restApiId":{"Ref":"BarAppApi23A69A24"}}}},"OPTIONS":{"id":"OPTIONS","path":"BarOrderSystemStack/BarAppApi/Default/orders/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Default/orders/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BarAppApiordersAF48EFA7"},"restApiId":{"Ref":"BarAppApi23A69A24"}}}}}},"GET":{"id":"GET","path":"BarOrderSystemStack/BarAppApi/Default/orders/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.210.0","metadata":[]},"children":{"ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.GET..orders":{"id":"ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.GET..orders","path":"BarOrderSystemStack/BarAppApi/Default/orders/GET/ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.GET..orders","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["OrdersFunctionC129706A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"BarAppApi23A69A24"},"/",{"Ref":"BarAppApiDeploymentStageprod11C7F79C"},"/GET/orders"]]}}}},"ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.GET..orders":{"id":"ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.GET..orders","path":"BarOrderSystemStack/BarAppApi/Default/orders/GET/ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.GET..orders","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["OrdersFunctionC129706A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"BarAppApi23A69A24"},"/test-invoke-stage/GET/orders"]]}}}},"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Default/orders/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["OrdersFunctionC129706A","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BarAppApiordersAF48EFA7"},"restApiId":{"Ref":"BarAppApi23A69A24"}}}}}},"POST":{"id":"POST","path":"BarOrderSystemStack/BarAppApi/Default/orders/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.210.0","metadata":[]},"children":{"ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.POST..orders":{"id":"ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.POST..orders","path":"BarOrderSystemStack/BarAppApi/Default/orders/POST/ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.POST..orders","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["OrdersFunctionC129706A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"BarAppApi23A69A24"},"/",{"Ref":"BarAppApiDeploymentStageprod11C7F79C"},"/POST/orders"]]}}}},"ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.POST..orders":{"id":"ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.POST..orders","path":"BarOrderSystemStack/BarAppApi/Default/orders/POST/ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.POST..orders","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["OrdersFunctionC129706A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"BarAppApi23A69A24"},"/test-invoke-stage/POST/orders"]]}}}},"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Default/orders/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["OrdersFunctionC129706A","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BarAppApiordersAF48EFA7"},"restApiId":{"Ref":"BarAppApi23A69A24"}}}}}}}},"admin":{"id":"admin","path":"BarOrderSystemStack/BarAppApi/Default/admin","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Default/admin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["BarAppApi23A69A24","RootResourceId"]},"pathPart":"admin","restApiId":{"Ref":"BarAppApi23A69A24"}}}},"OPTIONS":{"id":"OPTIONS","path":"BarOrderSystemStack/BarAppApi/Default/admin/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Default/admin/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BarAppApiadmin10285DB4"},"restApiId":{"Ref":"BarAppApi23A69A24"}}}}}},"reset":{"id":"reset","path":"BarOrderSystemStack/BarAppApi/Default/admin/reset","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Default/admin/reset/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BarAppApiadmin10285DB4"},"pathPart":"reset","restApiId":{"Ref":"BarAppApi23A69A24"}}}},"OPTIONS":{"id":"OPTIONS","path":"BarOrderSystemStack/BarAppApi/Default/admin/reset/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.210.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Default/admin/reset/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BarAppApiadminreset8CDD8529"},"restApiId":{"Ref":"BarAppApi23A69A24"}}}}}},"POST":{"id":"POST","path":"BarOrderSystemStack/BarAppApi/Default/admin/reset/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.210.0","metadata":[]},"children":{"ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.POST..admin.reset":{"id":"ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.POST..admin.reset","path":"BarOrderSystemStack/BarAppApi/Default/admin/reset/POST/ApiPermission.BarOrderSystemStackBarAppApi8C637A8B.POST..admin.reset","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminFunction09BA95C5","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"BarAppApi23A69A24"},"/",{"Ref":"BarAppApiDeploymentStageprod11C7F79C"},"/POST/admin/reset"]]}}}},"ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.POST..admin.reset":{"id":"ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.POST..admin.reset","path":"BarOrderSystemStack/BarAppApi/Default/admin/reset/POST/ApiPermission.Test.BarOrderSystemStackBarAppApi8C637A8B.POST..admin.reset","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AdminFunction09BA95C5","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"BarAppApi23A69A24"},"/test-invoke-stage/POST/admin/reset"]]}}}},"Resource":{"id":"Resource","path":"BarOrderSystemStack/BarAppApi/Default/admin/reset/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.210.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AdminFunction09BA95C5","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BarAppApiadminreset8CDD8529"},"restApiId":{"Ref":"BarAppApi23A69A24"}}}}}}}}}}}}}},"UserPoolId":{"id":"UserPoolId","path":"BarOrderSystemStack/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.210.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"BarOrderSystemStack/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.210.0"}},"ApiGatewayUrl":{"id":"ApiGatewayUrl","path":"BarOrderSystemStack/ApiGatewayUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.210.0"}},"TableName":{"id":"TableName","path":"BarOrderSystemStack/TableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.210.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"BarOrderSystemStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"BarOrderSystemStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.210.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"BarOrderSystemStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.210.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"BarOrderSystemStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.210.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}